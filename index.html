<!doctype html>

<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Beni Seviyor musun?</title>
  <style>
    :root{
      --bg: #fff7f2;
      --card: #fff;
      --accent: #ff6b81;
      --muted: #666;
      --max-width: 720px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: linear-gradient(180deg, #fff7f2 0%, #fff 100%);
      display:flex;align-items:center;justify-content:center;padding:24px;
      color:var(--muted);
    }.game{
  width:100%;max-width:var(--max-width);background:var(--card);border-radius:20px;padding:28px;
  box-shadow:0 8px 30px rgba(15,15,15,0.08);text-align:center;position:relative;overflow:hidden;
}

h1{margin:6px 0 18px;font-size:clamp(20px,4vw,28px);color:#333}
p.lead{margin:0 0 20px;color:#555}

.stage{
  position:relative;height:44vh;min-height:220px;border-radius:12px;background:linear-gradient(180deg,#fff,#fffafb);
  display:flex;align-items:center;justify-content:center;padding:12px;margin-bottom:18px;overflow:hidden;
}

.btn-row{display:flex;gap:18px;align-items:center;justify-content:center}

button.btn{
  user-select:none;border:0;padding:14px 24px;border-radius:12px;font-weight:700;font-size:16px;cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);transition:transform .22s ease,opacity .22s,border-color .22s,box-shadow .22s;
  background:linear-gradient(180deg,#fff,#fff);min-width:110px;max-width:45vw;white-space:nowrap;
}

.btn:active{transform:translateY(2px)}

.btn--yes{
  background:linear-gradient(180deg,#ffeef2,#ffdde6);color:var(--accent);border:2px solid rgba(255,107,129,0.12);
}

.btn--no{
  background:linear-gradient(180deg,#f7f8ff,#eef2ff);color:#27408b;border:2px solid rgba(39,64,139,0.08);
  position:relative;touch-action:none;
}

/* message bubble */
.messages{position:absolute;left:18px;right:18px;top:12px;display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.msg{background:#fff;padding:8px 12px;border-radius:999px;font-size:13px;box-shadow:0 6px 20px rgba(10,10,10,0.04)}

.toast{
  position:absolute;bottom:16px;left:50%;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:999px;font-weight:600;opacity:0;pointer-events:none;
  transition:opacity .28s ease,transform .28s ease; font-size:14px;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}

/* make sure buttons are reachable on small screens */
@media (max-width:420px){
  .stage{height:36vh}
  button.btn{padding:12px 16px;border-radius:10px;font-size:15px}
}

  </style>
</head>
<body>
  <main class="game" role="main">
    <div class="messages" aria-hidden="true"></div>
    <h1>Beni seviyor musun?</h1>
    <p class="lead">Seçimini yap: <strong>Evet</strong> ya da <strong>Hayır</strong></p><div class="stage" id="stage">
  <div class="btn-row" id="btnRow" aria-hidden="false">
    <button id="yesBtn" class="btn btn--yes" aria-label="Evet">Evet</button>
    <button id="noBtn" class="btn btn--no" aria-label="Hayır">Hayır</button>
  </div>
</div>

<div class="toast" id="toast" role="status" aria-live="polite"></div>

  </main>  <script>
    // Türkçe, açıklamalı, sade bir implementasyon
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const stage = document.getElementById('stage');
    const messages = document.querySelector('.messages');
    const toast = document.getElementById('toast');

    // Evet butonu --- her tıklamada büyüyecek
    let yesScale = 1;
    const YES_SCALE_STEP = 0.12; // her tıklamada kaç artacağı
    const YES_MAX_SCALE = 3.0; // görsel limit

    yesBtn.addEventListener('click', ()=>{
      yesScale = Math.min(YES_MAX_SCALE, yesScale + YES_SCALE_STEP);
      yesBtn.style.transform = `scale(${yesScale})`;
      showToastRandom(['Biliyordum!','Seni de seviyorum!','Harika seçim!','Kalbim hızlı çarpıyor.']);
    });

    // Hayır butonu --- kaçar. Hem mouse hover hem touchscreen desteği.
    const safeMargin = 12; // px kenara yapışmasın

    // Random ironik / ısrarcı mesajlar (kullanıcının istediği gibi 'beni sevdiğini biliyorum' tarzında)
    const noReplies = [
      'Beni sevdiğini biliyorum.',
      'Hayır dediğini duyamadım :)',
      'Bir daha düşün bence :)',
      'İyi ki dürüstsün, ama ben ısrarcıyım.',
      'Sana zaman veriyorum, ben buradayım.'
    ];

    // Stage bounding box hesaplama
    function getStageBounds(){
      const rect = stage.getBoundingClientRect();
      return rect;
    }

    // Butonu güvenli alana taşı
    function moveNoButtonRandomly(quick=false){
      const rect = getStageBounds();
      const btnRect = noBtn.getBoundingClientRect();

      // kullanılabilir alanın genişliği: stage içi ve safe margin
      const areaW = rect.width - btnRect.width - safeMargin*2;
      const areaH = rect.height - btnRect.height - safeMargin*2;
      if(areaW <= 0 || areaH <= 0){
        // çok küçük ekran — butonu ortala
        noBtn.style.left = '';
        noBtn.style.top = '';
        noBtn.style.transform = '';
        return;
      }

      // random pozisyonlar içeriğine göre
      const x = Math.round(Math.random() * areaW) + safeMargin;
      const y = Math.round(Math.random() * areaH) + safeMargin;

      // Konumlandırmayı relative parent olan .stage içinde absolute değil; bu yüzden transform kullanıyoruz
      const parentRect = stage.getBoundingClientRect();
      const fromX = btnRect.left - parentRect.left;
      const fromY = btnRect.top - parentRect.top;
      const toX = x - fromX;
      const toY = y - fromY;

      // Animasyon: smooth transition
      noBtn.style.transition = quick ? 'transform .18s ease' : 'transform .36s cubic-bezier(.2,.9,.2,1)';
      // mevcut transform değerlerini sıfırlayıp translate uygula
      noBtn.style.transform = `translate(${toX}px, ${toY}px)`;
    }

    // Buton hareketini tetikle — hover veya touch
    function handleNoHover(ev){
      // Fare hareketleri veya dokunma
      moveNoButtonRandomly(false);
    }

    // Mobilde dokunma başladığında kaçsın
    noBtn.addEventListener('touchstart', (e)=>{
      // dokunma sırasında tıklamaya izin vermemek için preventDefault yapmıyoruz çünkü bazı kullanıcılar gerçekten basmak isteyebilir
      moveNoButtonRandomly(true);
    }, {passive:true});

    // Fare için hover
    noBtn.addEventListener('mouseenter', (e)=>{
      handleNoHover(e);
    });

    // Ayrıca butonun etrafında mousemove olursa da koş
    stage.addEventListener('mousemove', (e)=>{
      // Eğer imleç butona çok yakınsa kaçır
      const b = noBtn.getBoundingClientRect();
      const dX = e.clientX - (b.left + b.width/2);
      const dY = e.clientY - (b.top + b.height/2);
      const dist = Math.hypot(dX,dY);
      if(dist < Math.max(b.width,b.height) * 1.2){
        moveNoButtonRandomly();
      }
    });

    // Hayır butonuna gerçekten basılabilirse mesaj göster
    noBtn.addEventListener('click', (e)=>{
      // click'e basıldıysa küçük bir sevinç mesajı göster
      showNoReply();
      // buton tekrar kaçsın biraz hızlı
      moveNoButtonRandomly(true);
    });

    // Rastsal bir noReply göster
    function showNoReply(){
      const msg = noReplies[Math.floor(Math.random()*noReplies.length)];
      // baloncuk ekle
      const el = document.createElement('div');
      el.className = 'msg';
      el.textContent = msg;
      messages.appendChild(el);

      // en fazla 4 mesaj göster
      while(messages.children.length > 4){ messages.removeChild(messages.firstChild); }

      // ufak bir toast da göster
      showToast(msg);
    }

    // Toast gösterme yardımcı
    let toastTimer = null;
    function showToast(text){
      toast.textContent = text;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{ toast.classList.remove('show'); }, 2000);
    }

    function showToastRandom(list){
      const t = list[Math.floor(Math.random()*list.length)];
      showToast(t);
    }

    // Responsive: stage yeniden boyutlandığında butonun konumunu sınırla
    let resizeTimer = null;
    window.addEventListener('resize', ()=>{
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(()=>{
        // transform'ı sıfırla; buton stage içine yeniden konumlandırılsın
        noBtn.style.transition = 'none';
        noBtn.style.transform = '';
        // küçük gecikmeyle geçerli alan içinde yeniden konumlandır
        setTimeout(()=>{
          moveNoButtonRandomly(true);
        }, 80);
      }, 120);
    });

    // Başlangıçta butonlar center içinde düzgün konumlanmış olacak
    // Küçük bir gecikme ile hayır butonunu rastgele pozisyona taşı
    window.addEventListener('load', ()=>{
      setTimeout(()=> moveNoButtonRandomly(true), 350);
    });

    // Klavye uyumluluğu: Tab ile odakta iken Space/Enter çalışsın
    yesBtn.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); yesBtn.click(); } });
    noBtn.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); noBtn.click(); } });

    // Dokunmalı cihazlarda hayır butonuna basmak zor olabilir; eğer kullanıcı butona uzun süre dokunursa (long-press)
    // kabul edelim: uzun basma ile 'click' sonuçları gösterilsin.
    let pressTimer = null;
    noBtn.addEventListener('touchend', ()=>{ clearTimeout(pressTimer); });
    noBtn.addEventListener('touchstart', ()=>{
      clearTimeout(pressTimer);
      pressTimer = setTimeout(()=>{
        // uzun basma algılandı -> kabul et
        showNoReply();
      }, 650);
    }, {passive:true});

  </script></body>
</html>